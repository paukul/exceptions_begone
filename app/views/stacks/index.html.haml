.options
  %h2
    Options

  - form_tag project_stacks_url(@project, @stack), :method => "get" do
    = text_field_tag "search", params[:search]
    = submit_tag "Search"

  .filter.option
    %h3
      Filter status
      %span
        = " (#{session[:filter]})"
    %ul
      - filter_options.each do |k, v|
        %li{ :class => "#{'active' if session[:filter] == k}" }
          %a{ :href => project_stacks_path(@project, :filter => k) }
            = v

  .pagination.option
    %h3
      Items per page
      %span
        = " (#{session[:per_page]})"
    %ul
      - pagination_options.each do |v|
        %li{ :class => "#{'active' if session[:per_page] == v.to_s}" }
          %a{ :href => project_stacks_path(@project, :per_page => v) }
            = v

  = link_to "exclusions", project_exclusions_path(@project)

%table{ :class => "table" }
  %caption
    %span
      Notifications
  %colgroup
    %col{ :class => "identifier" }
    %col{ :class => "amount" }
    %col{ :class => "category" }
    %col{ :class => "status" }
    %col{ :class => "updated-at" }
    %col{ :class => "last-occured-at" }
    %col{ :class => "action" }
  %thead
    %tr
      %th
        Identifier
      %th
        \#
      %th
        Category
      %th
        Status
      %th
        Updated at
      %th
        Last occured at
      %th
        Action
  %tfoot
    %tr
      %td{ :colspan => "7" }
  %tbody
    = render :partial => "stack", :collection => @stacks
  .actions-bar
    .actions
    - if @stacks.prev?
      = link_to("First", project_stacks_path(@project, :page => 1))
      = link_to("Prev -", project_stacks_path(@project, :page => @stacks.prev.number))
    ==Page #{@stacks.number}/#{@stacks.number_of_pages}
    - if @stacks.next?
      = link_to("- Next", project_stacks_path(@project, :page => @stacks.next.number))
      = link_to("Last", project_stacks_path(@project, :page => @stacks.number_of_pages))
